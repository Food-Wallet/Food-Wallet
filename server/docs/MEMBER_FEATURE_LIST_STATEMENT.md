# 회원 도메인 기능 목록 명세서

## 계정 기능

- [x] 모든 사용자는 회원 가입을 할 수 있다.
  - [x] 이메일, 비밀번호, 이름, 출생년도, 성별, 회원 구분을 입력 받는다.
  - [x] 회원 구분은 `USER`, `BUSINESS`, `ADMIN`로 구성되어 있다.
  - [x] [예외] 입력 받은 이메일이 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 이메일의 길이가 100자를 초과하면 예외가 발생한다.
  - [x] [예외] 입력 받은 이메일이 이메일 형식이 아니라면 예외가 발생한다.
  - [x] [예외] 입력 받은 이메일의 도메인이 서비스에서 지원하지 않으면 예외가 발생한다.
  - [x] [예외] 입력 받은 이메일이 이미 등록된 이메일이면 예외가 발생한다.
  - [x] [예외] 입력 받은 비밀번호가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 비밀번호의 길이가 8자 미만이고 20자 초과하면 예외가 발생한다.
  - [x] [예외] 입력 받은 비밀번호에 숫자, 영문, 특수문자가 한개 이상 포함되있지 않으면 예외가 발생한다.
  - [x] [예외] 입력 받은 이름이 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 이름의 길이가 20자를 초과하면 예외가 발생한다.
  - [x] [예외] 입력 받은 이름에 한글 외의 문자가 포함되있으면 예외가 발생한다.
  - [x] [예외] 입력 받은 출생연도가 0 또는 음수라면 예외가 발생한다.
  - [x] [예외] 입력 받은 출생연도가 현재 연도를 초과하면 예외가 발생한다.
  - [x] [예외] 입력 받은 성별이 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 성별의 길이가 1이 아니라면 예외가 발생한다.
  - [x] [예외] 입력 받은 성별에 'M', 'F' 외의 문자가 포함되있으면 예외가 발생한다.
  - [x] [예외] 입력 받은 회원 구분이 빈 문자열이면 예외가 발생한다.

- [x] 이메일 중복 여부를 확인할 수 있다.
  - [x] 이메일을 입력 받는다.
  - [x] [예외] 입력 받은 이메일이 빈 문자열이면 예외가 발생한다.

- [x] 서비스 이용을 위해 계정 로그인을 할 수 있다.
  - [x] 이메일, 비밀번호, FCM 토큰을 입력 받는다.
  - [x] [예외] 입력 받은 이메일이 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 비밀번호가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 FCM 토큰이 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 로그인을 시도한 계정이 탈퇴한 계정이면 예외가 발생한다.
  - [x] 로그인을 성공하면 계정에 등록된 FCM 토큰을 수정한다.
  - [x] 로그인을 성공하면 Refresh 토큰을 수정한다.

- [x] 계정 로그아웃을 할 수 있다.
  - [x] 로그아웃시 FCM 토큰을 `null`로 수정한다.
  - [x] 로그아웃시 Refresh 토큰을 `null`로 수정한다.

## 회원 기능

- [x] 로그인한 회원의 정보를 조회할 수 있다.

- [x] 회원의 본인의 계좌 연결을 위해 1원 송금을 요청한다.
  - [x] 은행 코드, 계좌번호, 계좌 비밀번호를 입력 받는다.
  - [x] 인증 번호는 랜덤 숫자 4자리를 발급하여 통장 내용에 담는다.
  - [x] 인증 번호의 유효 시간은 5분이다.
  - [x] [예외] 입력 받은 은행 코드가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 계좌번호가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 계좌 비밀번호가 빈 문자열이면 예외가 발생한다.
  - [ ] [예외] 일치하는 계좌 정보가 존재하지 않으면 예외가 발생한다.

- [x] 회원의 본인의 계좌 연결을 위해 발급 받은 인증번호를 확인한다.
  - [x] 인증 번호를 입력 받는다.
  - [x] [예외] 입력 받은 인증 번호가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 인증 번호의 길이가 4가 아니라면 예외가 발생한다.
  - [x] [예외] 인증 번호가 일치하지 않으면 예외가 발생한다.
  - [x] [예외] 유효 시간이 지나 만료된 인증 번호를 입력하면 예외가 발생한다. 

- [x] 회원은 계정 비밀번호를 변경할 수 있다.
  - [x] 본인 확인을 위한 현재 비밀번호와 새로운 비밀번호를 입력 받는다.
  - [x] [예외] 입력 받은 현재 비밀번호가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 현재 비밀번호가 일치하지 않으면 예외가 발생한다.
  - [x] [예외] 입력 받은 새로운 비밀번호가 빈 문자열이면 예외가 발생한다.
  - [x] [예외] 입력 받은 새로운 비밀번호의 길이가 8자 미만이고 20자 초과하면 예외가 발생한다.
  - [x] [예외] 입력 받은 새로운 비밀번호에 숫자, 영문, 특수문자가 한개 이상 포함되있지 않으면 예외가 발생한다.
  
- [ ] 더이상 서비스 이용을 원하지 않는 회원은 탈퇴할 수 있다.
  - [ ] 본인 확인을 위해 현재 비밀번호를 입력 받는다.
  - [ ] [예외] 입력 받은 현재 비밀번호가 빈 문자열이면 예외가 발생한다.
  - [ ] [예외] 입력 받은 현재 비밀번호가 일치하지 않으면 예외가 발생한다.

